\documentclass[11pt,bookmarks,bookmarksnumbered,naturalnames,plainpages=false,pdftex,colorlinks=true,urlcolor=blue,bookmarksdepth=subsection,plainpages=false]{paper}
\usepackage[T2A,T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[a4paper,margin=1in]{geometry}
% \newcommand{\Be}{\mbox{\usefont{T2A}{\rmdefault}{m}{n}\CYRB}}
\usepackage{times}
\usepackage{amssymb}
\usepackage{transparent}
% \usepackage{makeidx}
\usepackage{tikz}
%\usepackage{wrapfig}
%\usetikzlibrary{snakes,arrows,shapes,automata}
%\usepackage{mlbook}
%\usepackage[round]{natbib}
%\usepackage{multicol}        
\usepackage{epsfig}
\usepackage{graphicx}
% \usepackage{xypic}
\usepackage[matrix,arrow]{xy}
\usepackage[pdftex,colorlinks=true,urlcolor=blue,bookmarksdepth=subsection,plainpages=false]{hyperref}
\usepackage[backend=biber,natbib,style=authoryear]{biblatex}
\def\stackrel#1#2{\mathrel{\mathop{#2}\limits^{#1}}}
\makeatletter
\newcommand{\dashedrightarrow}[1][2pt]{%
  \settowidth{\@tempdima}{$\rightarrow$}\rightarrow% typeset arrow
  \makebox[-\@tempdima]{\hskip-1.5ex\color{white}\rule[0.5ex]{#1}{2pt}}% typeset overlay
  \phantom{\rightarrow}% advance appropriate horizontal distance
}
\makeatother

\newcommand{\andras}[1]{{\color{magenta}{AK: #1}}}
\newcommand{\zalan}[1]{{\color{red}{MM: #1}}}

\addbibresource{ml.bib}

\begin{document} 
\title{The syntax of 4lang definitions}
\author{Andr\'as Kornai}
%\small HAS Computer and Automation Research Institute\\
%\small H-1111 Budapest Kende u 13-17, Hungary\\
%\small \href{mailto:andras@kornai.com}{andras@kornai.com}}
\date{}
\maketitle

\begin{abstract}
We describe how the last column of 4lang needs to be parsed
\end{abstract}

\section{Major cases}

\subsection{Coordination}

A 4lang definition always contains one or more (hypergraph) nodes, of which
one is distinguished as the {\it head} (related to, but not exactly the same
as the {\it root} in dependency graphs). All these are interpreted as graph
edges with label 0 running from the defniendum to the definiens.  The simplest
definitions are therefore of the form x, where x is a single node. Example
(all examples are taken from 4lang/Reform):

{\tt aim   purpose}

\noindent
that is, the word {\it aim} is defined as {\it purpose}. Somewhat more complex
definitions are given by a comma-separated list. Here the head is always the
first element. Examples:

\begin{verbatim}
board   artefact, long, flat    
boat    ship, small, open/1814  
\end{verbatim}

The number following the '/', if present, serves to disambiguate among various
definitions, in this case adjectival {\it open} `nyilt, apertus' from verbal
{\it open} `nyit, aperio'. These numbers are in column 5 of the 4lang file. 

\subsection{External pointers}

Sometimes (here 42 cases in 1400) a concept doesn't fully belong in the
lexicon, but rather in the encyclopedia. To quote \cite{Kornai:2019} p 190:

\begin{quotation} 
While our goal is to create a formal theory of lexical definitions, it must be
acknowledged that such definitions can often elude the grasp of the linguist
and slide into a description of world knowledge of various sorts.
Lexicographic practice acknowledges this fact by providing, somewhat
begrudgingly, little pictures of flora, fauna, or plumbersâ€™ tools. A
well-known method of avoiding the shame of publishing a picture of a yak is to
make reference to {\it Bos grunniens} and thereby point the dictionary user
explicitly to some encyclopedia where better information can be found.
\end{quotation}

In the formal language defined here, such {\it external pointers} are marked
by a prefixed @. Examples:

\begin{verbatim}
Africa	land, @Africa	
London	city, @London	
Muhammad  man/744, @Muhammad	
\end{verbatim}

\subsection{Subjects and objects}

In addition to 0 links, definitions often explain the definiendum in terms of
it being the subject or object of some binary relation. When not defined by
some more primitive term, such binary telations are given in CAPS.  For
example:

\begin{verbatim}
April   month, FOLLOW march/1563, may/1560 FOLLOW
bank    institution, money IN/2758
\end{verbatim}

\noindent
The intended graph for April will have a 0 link from the head to month, a 1
link to march/1563 and a 2 link to may/1560. Often, what is at the other side
of the binary is unspecified, in which case we use the ' symbol ``plugged
up''.  Examples:

\begin{verbatim}
vegetable  plant, ' EAT
sign  information, ' PERCEIVE, show, HAS meaning
\end{verbatim}

\noindent
Thus, {\it vegetable} is a plant that someone (not specified who) can eat (ot
is the object of eating, subject unspecified), and {\it sign} is\_a
information, is the object of perception, is\_a show (nominal, something that
is or can be shown) and has meaning.

\subsection{Direct predication}

In a formula {\tt A[B]} means that there is a 0-link from A to B. This is used
only to make the notation more compact. 

\begin{verbatim}
tree fa arbor drzewo 709 N plant, HAS material[wood], HAS trunk/2759, 
                           HAS crown 
\end{verbatim}

\subsection{Defaults}

In principle, all definitional elements are strict (can be defeased only under
exceptional circumstances) but time and again we find it expedient to collapse 
strongly related entries by means of defaults that appear in angled brackets. 

\begin{verbatim}
ride lovagol equito jez1dzic1_konno 1555 u U travel, =AGT ON <horse>, 
                                             INSTRUMENT <horse>
\end{verbatim}

These days, a more generalized {\it ride} is common ({\it riding the bus,
  catching a ride, \ldots} so the definition {\tt travel} should be sufficient
as is. The historically prevalant mode of traveling, on horesback, is kept as
a default. Note that these two entries often get translated by different
words: for example Hungarian distinguishes {\it utazik} `travel' and {\it
  lovagol} `rides a horse', a verb that cannot appear with an object or
instrument the same way as English `ride a bike' can.  

\subsection{Agents, patients}

The relationship between horseback riding (which is, as exemplified in 1.5
above, just a form of travelling) and its defining element, the horse, is
indirect. The horse is neither the subject, not the object of travel. 
Rather, it is the rider who is the subject of the definiendum and the
definiens alike, corresponding to a graph node that has a 1 arrow leading to
it from both. This node is labelled by {\tt =AGT}, so when we wish to express 
the semantic fact that Hungarian {\it lovagol} means travel on a horse we
write 

\begin{verbatim}
lovagol travel, =AGT ON horse
\end{verbatim} 

\noindent
Note that the horse is not optional for this verb in Hungarian: it is
syntactically forbidden ({\it lovagol} is intransitive) and semantically
obligatory. (Morphologically it is already expressed, as the verb is derived
from the stem {\it l\'o} `horse' though this derivation is not by productive
suffixation.) Remarkably, when the object is\_a horse (e.g. a colt is a young
horse, or a specific horse like Kincsem) we can still use {\it lovagol} as in
{\it J\'anos a csik\'ot lovagolta meg} or {\it Elijah Madden Kincsemet
  lovagolta}.

For the patient role, consider the word {\it know}, defined as `has
information about'. For this to work, the expression {\tt x know y} has to be
equivalent to {\tt x HAS information ABOUT y}. For this to work, we need to
express the fact that the subject of HAS is the same as the subject of {\it
  know} (this is done by the {\tt =AGT} placeholder) and that the object of
ABOUT is the same as the object of knowing -- this will be done by the {\tt
  =PAT} placeholder. 

\subsection{Minor thematic roles}

Of the 1,200 currently unreduced primitives, about 15\% refer to the major
thematic roles {\tt =AGT,=PAT} discussed above. The treatment of the others
(altogether less than 10\%) is work in progress, see Reform/notes

\begin{tabular}{rr}
name & freq\\
\hline
=AGT & 178\\
=PAT & 174\\
=REL & 34\\
=POS & 26\\
=TO & 19\\
=DAT & 19\\
=FROM & 7\\
=OBL & 5\\
=FOR & 1\\
\end{tabular}

\subsection{More complex notation}

Some complex notations still remain, in particular parentheses {\tt
  ()}.  [] now refers to subgraph (as a whole)


\end{document}





small grammar suitable for parsing. In the grammar, () stands for optional,
$|$ stands for choice, and $^*$ for one or more.

weight  physical(quantity), heavy
water  liquid, HAS lack(colour), HAS lack(taste), HAS lack(smell), life NEED
\end{verbatim}

\subsection{Iterated links} 

The definition graph will often have subgraphs denoted as one. In such cases,
parentheses are used with the lead predicate. Examples: 

\begin{verbatim}
weight  physical(quantity), heavy
water  liquid, HAS lack(colour), HAS lack(taste), HAS lack(smell), life NEED
\end{verbatim}



\noindent
Definition $\rightarrow$ Definiendum Definiens (\% Comment)\\
Definiendum $\rightarrow$ Atom\\
Definiens $\rightarrow$ Clause ('','' Clause)$^*$\\
Comment  $\rightarrow$ (Arbitrary string)\\
Atom  $\rightarrow$ PlainAtom$|$NumberedAtom\\
NumberedAtom  $\rightarrow$ PlainAtom''/''Number\\
Clause  $\rightarrow$ 0Clause$|$1Clause''|''2Clause|ComplexClause\\
0Clause  $\rightarrow$ Atom\\
1Clause  $\rightarrow$ BIN '\\
2Clause   $\rightarrow$ ' BIN\\
ComplexClause  $\rightarrow$ Atom(Clause)

\end{document}



Here we introduce some terminology by paraphrase, describing the intended
meaning before offering more formal definitions. Our goal is to stay close to
the standard meaning of these terms, but we do not intend to fully recreate
every aspect of the theories where they originate. 

{\bf Atoms} are intended in the original sense of Democritus, to be small,
indivisible, indestructible units. They are the building blocks of solid
physical objects, but (i) it's not enough to have atoms to have a physical
object, you also need some kind of glue to hold them together and (ii) we
permit other physical objects which are not atomic, in particular liquids and
gases/emanations of various sorts (think of force fields or sounds) which are
thought of as infinitely divisible. Atoms come in a few predefined sortal
types. [We don't do modern physics, quarks, etc. and flatly ignore the fact
  that what contemprary language calls atoms are divisible and desctructible.]

{\bf Space} is ordinary 3D Euclidean space, {\bf time} will generally be
considered discrete (so that the arrow paradox etc. need full
discussion). Liquids and gases may fill various volumes but need not be
stationary even in a closed volume, and can have varying density. 

{\bf Objects} are given by their atoms and some glue relations that hold them
together. Objects can have various properties, such as shape, color,
temperature, taste etc. Certain properties are like liquids or gases
infusing/pervading the object (temperature, density), others (shape in
particular) pertain to their boundaries, yet others can be imperceptible
(e.g. being expensive, being cursed, etc).

There can be various (n-place) {\bf relations} obtaining between objects but,
importantly, relations can also hold between things {\it construed as}
objects, such as geometrical points with no atomic content, e.g. the corner of
the room {\it is next to} the window', complex motion predicates, e.g. `the
flood {\it caused} the breaking of the dam', and so on. Arguments of relations
will be called {\bf matters}, but they need not be material. One particularly
important relation is {\bf identity in essence, idest}, which can hold across
time between objects (including solids) even if they are not atom-by-atom
identical. The idest relation we are interested in is the relation holding
between anaphors and their antecedents, as in {\it Kim cooked dinner$_i$ and
  Sandy ate it$_i$}. This normally assumes a preponderance of atoms staying
identical, but there are important exceptions, as in {\it Our weekend sailboat
  was completely destroyed by fire but we rebuilt it}, where construal
identity overrides physical identity. Note that idest is not transitive,
because it requires a vantage point, and if A idest B from vantage P and B
idest C from vantage Q, there is no guarantee that there is an R such that A
idest C from vantage R. Note also that our interest in idest comes mostly
from establishing the vantage argument that's implicit in it. 

We do not follow situation theory \citep{Barwise:1983,Devlin:1991} closely,
but we do retain some of the techniques, and much of the motivation (reasoning
about common-sense and real world situations).  For us, a {\bf situation} is
composed of some matters (these may include emotions, intentions, and all
kinds of intangibles that exist only in the mind of some observer) and some
relations (which again may be purely notional ones like `forming a
triangle'). None of the relational tuples are negative.

Compared to the basic sortal types used in situation theory, we will have {\bf
  location}, conceived of connected subsets (in the limiting case, points,
lines, or surfaces) in 3D Euclidean space, but also including
nonexistent/inaccessible notional locations like {\it Heaven}. We note that
locations, both spatial and temporal, are subject to the same loose identity
conditions as the idest we discussed above for objects. We will also make use
of the {\bf individual} type, again making room for nonexistent/inaccessible
individuals as well as notional ones (e.g. personifications of countries or
emotions). We will have no use for types necessitated by the technical
machinery of situation theory such as PARamater, POLarity, or TYPe, nor will
we use infons. Even the use of RELn (n-place relations) will be different, as
we have seemingly n-place relations that have hidden variables, so are
actually m-place reations, and this includes the case when we can't easily
name (or quantify over) these variables.

Altogether, we assume a large number (about $10^5$) of ur-objects, roughly one
per morpheme or word, some of them defeasibly typed as LOC (location) or PER
(a special type of individual, a {\bf person}). In addition to these, we will
have a few technical elements such as the empty node $\cdot$, three directed
connectives `0' (is, isa); `1' (subject); and `2' (object). {\bf truth
  values} from a small set $B$ (not necessarily a boolean algebra), and {\bf
  scores} from a small linear order $L$.

The directed connectives are conceptualized as colored edges from nodes to
nodes or larger structures in a graph. The graphs are built up recursively:
(i) urelements, including the empty node, are simple graphs, with their one
element considered their root. (ii) a simple node x, with a 0/1/2 numbered
link to another graph, is a complex graph with root x. (iii) A complex graph,
with root x, with a 0/1/2 numbered link {\it from its root} is again a graph,
with root x.

To each graph corresponds a {\bf formula} built up in a similar fashion:
urelements (including the empty element) are simple formulas headed by
themselves, if f is a simple formula and F a formula, f0F, f1F, and f2F are
complex formulas, still headed by f, and if xrC is a complex formula headed by
x (here r is metalinguistic abbreviation for 0,1,2) and G some other complex
formula, xrC0G, xrC1G, and xrC2G are again complex formulas.

{\bf Valuations} are partial mappings from graphs (or, equivalently, from
formulas) to $L$. There is no analogous `truth assignment' because in the
inner models that are central to the theory, everything is true by virtue of
being present. On occasion we may be able to reason based on missing
signifiers, the dog that didn't bark, but this is atypical and left for later
study. A {\bf situation} is simply a (conjunctive) collection of
formulas/graphs. Whether we need to consider a fixed valuation as part of the
situation will be discussed later. 

A formula of the form x1a2b is equivalent to x2b1a, both mean in traditional
terms that x is a binary relation whose first argument is a and the second b.
As syntactic sugar, these could be written axb, but once we do this, we need
parentheses so the price of the sugar may be too high. As a compromise, binary
connectives of the kind we are interested in (these come from a small, closed
list that has spatial AT, IN, OVER, SOURCE, GOAL, temporal BEFORE and AFTER,
possessive HAS, and perhas a handful of others like CAUSE or INSTRUMENT) are
given in small caps, and will be written infix. So `breakfast BEFORE shower'
abbreviates before1breakfast2shower or the equivalent before2shower1breakfast
and we will say that in such cases the formula has a {\bf main connective}
x. Note that not all formulas have main connectives in this sense.  (Another
set of sugary devices concerns reification of missing arguments, especially in
relative clauses, these will not be discussed here.)  An {\bf unfolding
  situation} is one where the formulas include statements with main
connectives BEFORE or AFTER (one of these two could be eliminated, but this is
not exciting).

{\it Extension} of a situation can be by adding further formulas (this is
standard), and more importantly, by adding further specifications to existing
formulas. One of these is adding further, hitherto unspecified arguments to
the formulas already in a situation, for example `the guttersnipe killed the
officer {\it with a long-range gun}' extends kill1guttersnipe2officer to kill
INSTR lrg, which would be, if we undo the syntactic sugar,
instr1kill1guttersnipe2officer2lrg Note that this kind of elaboration leaves
the two situations (with or without the instrument clause) idest, but it may
change the valuation. 



\section{Definitions}


{\bf Definition 1.} A model instance is a collection of finitely many {\it
  reachable} objects and an unspecified number (possibly zero) of {\it
  unreachable} ones. It is assigned a rational number called its {\it
  timestamp}. Here and in what follows `object' is a term neutral between what
are traditionally considered objects (e.g. a table) and what are traditionally
called `events' e.g. a soccer match.  \andras{More on atomic and compound
  objects}

{\bf Definition 2.} {\it Unary} terms select a subset (possibly empty) of
objects in each model instance. For example, {\it person(x)} selects those
objects that are people (reachable in all but human-uninhabited models),
whereas {\it unicorn(x)} selects only unreachable objects (reachable only
in fictional/mythical models).

{\it Binary} terms, written infix, are directed graph edges connecting two
objects/terms.  For example {\it dream\_of} is a binary term connecting a word
to an object and {\it Kim dream\_of unicorn} is an edge, colored `dream\_of',
between a (possibly reachable) object {\it Kim} and a (possibly unreachabe)
object {\it unicorn}. Note that edges can terminate (and/or start) in other
edges as well, as in {\it Kim dream\_of eat icecream} where the end of the
{\it dream\_of} edge is the edge (Kim eat icecream). 

\section{Preliminaries}

We need two special relations, {\it name}, and {\it exist}, and two special
types, {\it object} and {\it expression}. Expressions (words and more complex
linguistic expressions) are mapped by the interpretation relation to terms.
Some objects have names, many don't. An unreachable object can also have a
name. `Bilbo never heard of Palantir' is true. 


\section{Temporal structure}
 We need to define a model stream (list of instances with increasing
 timestamps, largely invariant objects, and  causal continuity).

  know =AGT HAS information, information ABOUT =PAT
